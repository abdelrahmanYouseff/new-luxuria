import{l as C,j as f,g as n,o as i,b,u as D,q as w,w as V,a as t,h as k,F as r,r as E,t as u,d as c,n as S,e as A,f as a,v as d,i as y}from"./app-CRqtDdha.js";import{_ as T}from"./AppLayout.vue_vue_type_script_setup_true_lang-DjbqoCZ3.js";/* empty css            */import"./createLucideIcon-DZI9vfrF.js";import"./useForwardExpose-DfaG08-o.js";import"./RovingFocusGroup-C1UeiKgX.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-B4pJarTW.js";import"./x-Dj4c86Uo.js";const j={class:"lux-bg-page min-h-[100vh] py-8 px-2 md:px-0 flex flex-col items-center justify-start"},N={class:"w-full max-w-5xl"},U={class:"flex flex-col sm:flex-row items-center justify-between mb-7 gap-4"},M={class:"bg-white rounded-2xl shadow-lg p-0 overflow-x-auto border border-[#f7e7c1]"},O={class:"table w-full text-left align-middle"},h={class:"px-5 py-4 font-medium"},F={class:"px-5 py-4"},$={class:"px-5 py-4"},B={class:"px-5 py-4"},q={key:0,class:"lux-modal-overlay"},I={class:"lux-modal-pro"},L={class:"flex items-center justify-between mb-6"},P={class:"mb-4"},R={class:"mb-4"},W={class:"mb-4 flex gap-3"},z={class:"flex-1"},J={class:"flex-1"},K={class:"mb-4 flex gap-3"},X={class:"flex-1"},G={class:"flex-1"},H={class:"mb-6"},Q={class:"flex justify-end gap-3"},Y=C({__name:"AdminCoupons",setup(x){const m=[{title:"Dashboard",href:"/dashboard"},{title:"Coupons",href:"/coupons"}],o=f(!1),l=f({name:"",code:"",discountType:"percent",discountValue:"",startDate:"",expiryDate:"",status:"active"}),p=f([{name:"Welcome Coupon",code:"WELCOME10",discount_type:"percent",discount_value:10,start_date:"2024-01-01",expiry_date:"2024-12-31",status:"active"},{name:"Summer Offer",code:"SUMMER25",discount_type:"fixed",discount_value:25,start_date:"2024-06-01",expiry_date:"2024-08-15",status:"inactive"}]);async function g(){var v;try{const e=await fetch("/coupons",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((v=document.querySelector("meta[name=csrf-token]"))==null?void 0:v.getAttribute("content"))||"",Accept:"application/json"},body:JSON.stringify({name:l.value.name,code:l.value.code,discount_type:l.value.discountType,discount_value:l.value.discountValue,start_date:l.value.startDate,expiry_date:l.value.expiryDate,status:l.value.status})});if(!e.ok){const _=await e.json();alert(_.message||"Error adding coupon");return}const s=await e.json();p.value.unshift(s.coupon),l.value={name:"",code:"",discountType:"percent",discountValue:"",startDate:"",expiryDate:"",status:"active"},o.value=!1}catch{alert("Error adding coupon")}}return(v,e)=>(i(),n(r,null,[b(D(w),{title:"Coupons"}),b(T,{breadcrumbs:m},{default:V(()=>[t("div",j,[t("div",N,[t("div",U,[e[11]||(e[11]=t("h1",{class:"text-3xl font-bold lux-heading"},"Coupons",-1)),t("button",{class:"lux-btn-gold-add flex items-center gap-2 px-5 py-2 rounded-full shadow",onClick:e[0]||(e[0]=s=>o.value=!0)},e[10]||(e[10]=[t("span",{class:"text-lg font-semibold"},"+ Add New Coupon",-1)]))]),t("div",M,[t("table",O,[e[12]||(e[12]=t("thead",null,[t("tr",{class:"lux-table-header"},[t("th",{class:"px-5 py-4 font-semibold text-[#bfa133] text-lg"},"Code"),t("th",{class:"px-5 py-4 font-semibold text-[#bfa133] text-lg"},"Discount"),t("th",{class:"px-5 py-4 font-semibold text-[#bfa133] text-lg"},"Expiry Date"),t("th",{class:"px-5 py-4 font-semibold text-[#bfa133] text-lg"},"Status")])],-1)),t("tbody",null,[(i(!0),n(r,null,E(p.value,s=>(i(),n("tr",{key:s.code,class:"border-b hover:bg-[#f9f6ef] transition"},[t("td",h,u(s.code),1),t("td",F,[s.discount_type==="percent"?(i(),n(r,{key:0},[c(u(s.discount_value)+"% Off ",1)],64)):(i(),n(r,{key:1},[c(u(s.discount_value)+" AED ",1)],64))]),t("td",$,u(s.expiry_date),1),t("td",B,[t("span",{class:S(s.status==="active"?"lux-badge-active":"lux-badge-expired")},u(s.status==="active"?"Active":"Expired"),3)])]))),128))])])])])]),o.value?(i(),n("div",q,[t("div",I,[t("div",L,[e[13]||(e[13]=t("div",{class:"flex items-center gap-2"},[t("span",{class:"lux-modal-icon"},[t("i",{class:"bi bi-ticket-perforated"})]),t("h2",{class:"lux-modal-title"},"Add New Coupon")],-1)),t("button",{class:"lux-modal-close",onClick:e[1]||(e[1]=s=>o.value=!1)},"Ã—")]),t("form",{onSubmit:A(g,["prevent"])},[t("div",P,[e[14]||(e[14]=t("label",{class:"lux-label-pro"},"Coupon Name",-1)),a(t("input",{"onUpdate:modelValue":e[2]||(e[2]=s=>l.value.name=s),type:"text",class:"lux-input-pro",placeholder:"Enter coupon name"},null,512),[[d,l.value.name]])]),t("div",R,[e[15]||(e[15]=t("label",{class:"lux-label-pro"},"Coupon Code",-1)),a(t("input",{"onUpdate:modelValue":e[3]||(e[3]=s=>l.value.code=s),type:"text",class:"lux-input-pro",placeholder:"Enter coupon code"},null,512),[[d,l.value.code]])]),t("div",W,[t("div",z,[e[17]||(e[17]=t("label",{class:"lux-label-pro"},"Discount Type",-1)),a(t("select",{"onUpdate:modelValue":e[4]||(e[4]=s=>l.value.discountType=s),class:"lux-input-pro"},e[16]||(e[16]=[t("option",{value:"percent"},"Percentage (%)",-1),t("option",{value:"fixed"},"Fixed Amount (AED)",-1)]),512),[[y,l.value.discountType]])]),t("div",J,[e[18]||(e[18]=t("label",{class:"lux-label-pro"},"Discount Value",-1)),a(t("input",{"onUpdate:modelValue":e[5]||(e[5]=s=>l.value.discountValue=s),type:"number",min:"0",class:"lux-input-pro",placeholder:"Value"},null,512),[[d,l.value.discountValue]])])]),t("div",K,[t("div",X,[e[19]||(e[19]=t("label",{class:"lux-label-pro"},"Start Date",-1)),a(t("input",{"onUpdate:modelValue":e[6]||(e[6]=s=>l.value.startDate=s),type:"date",class:"lux-input-pro"},null,512),[[d,l.value.startDate]])]),t("div",G,[e[20]||(e[20]=t("label",{class:"lux-label-pro"},"Expiry Date",-1)),a(t("input",{"onUpdate:modelValue":e[7]||(e[7]=s=>l.value.expiryDate=s),type:"date",class:"lux-input-pro"},null,512),[[d,l.value.expiryDate]])])]),t("div",H,[e[22]||(e[22]=t("label",{class:"lux-label-pro"},"Status",-1)),a(t("select",{"onUpdate:modelValue":e[8]||(e[8]=s=>l.value.status=s),class:"lux-input-pro"},e[21]||(e[21]=[t("option",{value:"active"},"Active",-1),t("option",{value:"inactive"},"Inactive",-1)]),512),[[y,l.value.status]])]),t("div",Q,[t("button",{type:"button",class:"lux-btn-cancel-pro",onClick:e[9]||(e[9]=s=>o.value=!1)},e[23]||(e[23]=[t("i",{class:"bi bi-x-circle me-1"},null,-1),c(" Cancel ")])),e[24]||(e[24]=t("button",{type:"submit",class:"lux-btn-gold-pro"},[t("i",{class:"bi bi-check-circle me-1"}),c(" Save Coupon ")],-1))])],32)])])):k("",!0)]),_:1})],64))}}),Z=(x,m)=>{const o=x.__vccOpts||x;for(const[l,p]of m)o[l]=p;return o},ut=Z(Y,[["__scopeId","data-v-43833fe6"]]);export{ut as default};
