import{j as c,k as _,g as a,o as n,a as t,t as o,F as y,r as v,n as f}from"./app-CRqtDdha.js";/* empty css            */const w={class:"container mx-auto px-4 py-8"},k={class:"max-w-4xl mx-auto"},b={key:0,class:"text-center py-8"},j={key:1,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},M={class:"flex"},B={class:"ml-3"},C={class:"mt-1 text-sm text-red-700"},V={key:2},R={class:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8"},L={class:"bg-white rounded-lg shadow p-6"},S={class:"flex items-center"},q={class:"ml-4"},z={class:"text-2xl font-semibold text-gray-900"},X={class:"bg-white rounded-lg shadow p-6"},H={class:"flex items-center"},A={class:"ml-4"},D={class:"text-2xl font-semibold text-gray-900"},E={class:"bg-white rounded-lg shadow p-6"},F={class:"flex items-center"},N={class:"ml-4"},T={class:"text-2xl font-semibold text-gray-900"},K={class:"bg-white rounded-lg shadow p-6"},O={class:"flex items-center"},W={class:"ml-4"},P={class:"text-2xl font-semibold text-gray-900"},G={class:"bg-white rounded-lg shadow"},I={key:0,class:"px-6 py-8 text-center"},J={key:1,class:"overflow-x-auto"},Q={class:"min-w-full divide-y divide-gray-200"},U={class:"bg-white divide-y divide-gray-200"},Y={class:"px-6 py-4 whitespace-nowrap"},Z={class:"text-sm font-medium text-gray-900"},$={class:"px-6 py-4 whitespace-nowrap"},tt={class:"text-sm text-gray-900"},et={class:"px-6 py-4 whitespace-nowrap"},st={class:"text-sm text-gray-900"},ot={class:"px-6 py-4 whitespace-nowrap"},at={class:"text-sm text-gray-900"},nt={class:"px-6 py-4 whitespace-nowrap"},lt={class:"flex items-center"},rt={class:"text-sm font-medium text-gray-900"},it={key:0,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800"},dt={key:1,class:"ml-2 inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800"},ct={class:"px-6 py-4 whitespace-nowrap"},mt={__name:"BookingPoints",setup(xt){const x=c(!0),d=c(""),r=c({total_bookings:0,total_points_earned:0,total_days_rented:0,points_per_day:5}),u=c([]),m=async()=>{var l,e;x.value=!0,d.value="";try{const s=await fetch("/user-points/booking-stats",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":((l=document.querySelector('meta[name="csrf-token"]'))==null?void 0:l.getAttribute("content"))||""}});if(s.ok){const i=await s.json();i.success&&(r.value=i.data)}const p=await fetch("/user-points/booking-history",{headers:{"X-Requested-With":"XMLHttpRequest",Accept:"application/json","X-CSRF-TOKEN":((e=document.querySelector('meta[name="csrf-token"]'))==null?void 0:e.getAttribute("content"))||""}});if(p.ok){const i=await p.json();i.success&&(u.value=i.data)}}catch(s){console.error("Error loading booking points data:",s),d.value="حدث خطأ أثناء تحميل البيانات"}finally{x.value=!1}},g=l=>{switch(l){case"confirmed":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},h=l=>{switch(l){case"confirmed":return"مؤكد";case"pending":return"في الانتظار";case"cancelled":return"ملغي";case"completed":return"مكتمل";default:return"غير معروف"}};return _(()=>{m()}),(l,e)=>(n(),a("div",w,[t("div",k,[e[14]||(e[14]=t("div",{class:"mb-8"},[t("h1",{class:"text-3xl font-bold text-gray-900 mb-2"},"نقاط الحجوزات"),t("p",{class:"text-gray-600"},"عرض النقاط المكتسبة من إيجار السيارات")],-1)),x.value?(n(),a("div",b,e[0]||(e[0]=[t("div",{class:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"},null,-1),t("p",{class:"mt-2 text-gray-600"},"جاري التحميل...",-1)]))):d.value?(n(),a("div",j,[t("div",M,[e[2]||(e[2]=t("div",{class:"flex-shrink-0"},[t("svg",{class:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule":"evenodd"})])],-1)),t("div",B,[e[1]||(e[1]=t("h3",{class:"text-sm font-medium text-red-800"},"خطأ في التحميل",-1)),t("p",C,o(d.value),1)])])])):(n(),a("div",V,[t("div",R,[t("div",L,[t("div",S,[e[4]||(e[4]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])])],-1)),t("div",q,[e[3]||(e[3]=t("p",{class:"text-sm font-medium text-gray-500"},"إجمالي الحجوزات",-1)),t("p",z,o(r.value.total_bookings),1)])])]),t("div",X,[t("div",H,[e[6]||(e[6]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})])])],-1)),t("div",A,[e[5]||(e[5]=t("p",{class:"text-sm font-medium text-gray-500"},"النقاط المكتسبة",-1)),t("p",D,o(r.value.total_points_earned),1)])])]),t("div",E,[t("div",F,[e[8]||(e[8]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})])])],-1)),t("div",N,[e[7]||(e[7]=t("p",{class:"text-sm font-medium text-gray-500"},"أيام الإيجار",-1)),t("p",T,o(r.value.total_days_rented),1)])])]),t("div",K,[t("div",O,[e[10]||(e[10]=t("div",{class:"flex-shrink-0"},[t("div",{class:"w-8 h-8 bg-yellow-100 rounded-lg flex items-center justify-center"},[t("svg",{class:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"})])])],-1)),t("div",W,[e[9]||(e[9]=t("p",{class:"text-sm font-medium text-gray-500"},"النقاط لكل يوم",-1)),t("p",P,o(r.value.points_per_day),1)])])])]),t("div",G,[e[13]||(e[13]=t("div",{class:"px-6 py-4 border-b border-gray-200"},[t("h2",{class:"text-lg font-medium text-gray-900"},"سجل الحجوزات")],-1)),u.value.length===0?(n(),a("div",I,e[11]||(e[11]=[t("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1),t("h3",{class:"mt-2 text-sm font-medium text-gray-900"},"لا توجد حجوزات",-1),t("p",{class:"mt-1 text-sm text-gray-500"},"لم تقم بأي حجوزات بعد.",-1)]))):(n(),a("div",J,[t("table",Q,[e[12]||(e[12]=t("thead",{class:"bg-gray-50"},[t("tr",null,[t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"السيارة"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"الفترة"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"الأيام"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"المبلغ"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"النقاط"),t("th",{class:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider"},"الحالة")])],-1)),t("tbody",U,[(n(!0),a(y,null,v(u.value,s=>(n(),a("tr",{key:s.id},[t("td",Y,[t("div",Z,o(s.vehicle),1)]),t("td",$,[t("div",tt,o(s.start_date)+" - "+o(s.end_date),1)]),t("td",et,[t("div",st,o(s.total_days)+" يوم",1)]),t("td",ot,[t("div",at,o(s.total_amount)+" درهم",1)]),t("td",nt,[t("div",lt,[t("span",rt,o(s.points_earned)+" نقطة",1),s.points_added_to_customer?(n(),a("span",it," تمت الإضافة ")):(n(),a("span",dt," في الانتظار "))])]),t("td",ct,[t("span",{class:f([g(s.status),"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium"])},o(h(s.status)),3)])]))),128))])])]))])]))])]))}};export{mt as default};
